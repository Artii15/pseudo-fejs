CREATE KEYSPACE IF NOT EXISTS Test
WITH REPLICATION = { 'class' : 'SimpleStrategy', 'replication_factor' : 4 };

USE Test;

DROP TABLE IF EXISTS Users;
CREATE TABLE Users (
    nick varchar,
    password varchar,
    creation_time timestamp,
    PRIMARY KEY (nick, creation_time)
);

DROP TABLE IF EXISTS Posts;
CREATE TABLE Posts (
    author varchar,
    creation_time timestamp,
    content text,
    PRIMARY KEY((author, creation_time))
);

DROP TABLE IF EXISTS Subscriptions;
CREATE TABLE Subscriptions (
    subscriber varchar,
    users set<varchar>,
    PRIMARY KEY(subscriber)
);
